<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAHER INFINITY | Ø§Ù„Ù…Ø­Ø±Ùƒ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #bc202b; --bg: #0a0a0a; --surface: #161616;
            --text: #ffffff; --sub: #b1b1b1; --accent: #1877F2;
            --radius: 20px; --shadow: 0 10px 30px rgba(0,0,0,0.7);
        }

        [data-theme="light"] { --bg: #f4f7f6; --surface: #ffffff; --text: #1a1a1a; --sub: #555; }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Cairo', sans-serif; }
        body { background: var(--bg); color: var(--text); transition: 0.5s; overflow-x: hidden; }

        /* --- Header --- */
        header {
            height: 75px; background: var(--surface); display: flex; align-items: center;
            justify-content: space-between; padding: 0 5%; position: sticky; top: 0; z-index: 1000;
            box-shadow: var(--shadow);
        }
        .brand { display: flex; align-items: center; gap: 15px; cursor: pointer; }
        .logo-box { width: 45px; height: 45px; border-radius: 50%; background: var(--primary); display: flex; align-items: center; justify-content: center; font-weight: 900; color: #fff; }
        
        /* --- Sidebar --- */
        .sidebar {
            position: fixed; right: -100%; top: 0; bottom: 0; width: 320px;
            background: var(--surface); z-index: 2000; transition: 0.5s cubic-bezier(0.7, 0, 0.3, 1);
            padding: 40px 25px; box-shadow: -15px 0 40px rgba(0,0,0,0.8);
        }
        .sidebar.active { right: 0; }
        .nav-link { padding: 15px; border-radius: 15px; display: flex; align-items: center; gap: 15px; cursor: pointer; margin-bottom: 10px; font-weight: 700; transition: 0.3s; }
        .nav-link:hover { background: rgba(255,255,255,0.05); transform: translateX(-10px); }

        /* --- Media Player Engine --- */
        .player-wrapper { max-width: 1100px; margin: 30px auto; padding: 0 15px; }
        .viewport { 
            width: 100%; aspect-ratio: 16/9; background: #000; border-radius: var(--radius); 
            overflow: hidden; box-shadow: var(--shadow); position: relative;
        }
        iframe, video, img { width: 100%; height: 100%; border: none; object-fit: contain; }

        .info-card { background: var(--surface); padding: 25px; border-radius: var(--radius); margin-top: -20px; position: relative; z-index: 10; border-bottom: 5px solid var(--primary); }
        .video-t { font-size: 24px; font-weight: 900; color: var(--text); }
        .video-d { color: var(--sub); margin-top: 15px; font-size: 15px; line-height: 1.8; white-space: pre-wrap; }

        /* --- Social & Redirect --- */
        .redirect-screen {
            position: fixed; inset: 0; background: #000; z-index: 9999;
            display: none; flex-direction: column; align-items: center; justify-content: center;
        }
        .timer-circle { width: 100px; height: 100px; border: 5px solid var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 40px; font-weight: 900; margin-top: 20px; }

        /* --- Grid System --- */
        .suggestions { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px; margin-top: 40px; }
        .item-card { background: var(--surface); border-radius: var(--radius); overflow: hidden; cursor: pointer; transition: 0.4s; }
        .item-card:hover { transform: scale(1.03); box-shadow: 0 15px 40px rgba(0,0,0,0.4); }
        .thumb { width: 100%; aspect-ratio: 16/9; object-fit: cover; background: #222; }

        /* --- Control Panel (Hidden) --- */
        #admin-panel {
            position: fixed; inset: 0; background: var(--bg); z-index: 5000;
            display: none; padding: 50px 10%; overflow-y: auto;
        }
        input, textarea, select { width: 100%; padding: 15px; background: #222; border: 1px solid #333; color: #fff; border-radius: 12px; margin-bottom: 15px; }
        .btn-post { background: var(--primary); color: #fff; padding: 18px; border: none; border-radius: 12px; width: 100%; font-weight: 900; cursor: pointer; }

        /* Animations */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .animate { animation: fadeIn 0.6s ease forwards; }
    </style>
</head>
<body data-theme="dark">

    <div id="redir-layer" class="redirect-screen">
        <h2 id="redir-title" style="color:var(--primary)">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„ÙÙŠØ³Ø¨ÙˆÙƒ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„...</h2>
        <div class="timer-circle" id="count-num">3</div>
    </div>

    <header>
        <div class="brand" onclick="location.reload()">
            <i class="fas fa-bars" style="font-size: 24px;" onclick="App.menu(event)"></i>
            <div class="logo-box">M</div>
            <span class="site-name" id="h-name">Ù…Ù†ØµØ© Ù…Ø§Ù‡Ø± Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©</span>
        </div>
        <i class="fab fa-facebook" style="font-size: 30px; color: #1877F2; cursor: pointer;" onclick="App.go('facebook')"></i>
    </header>

    <nav class="sidebar" id="sidebar">
        <h2 style="margin-bottom: 30px; border-right: 5px solid var(--primary); padding-right: 15px;">Ø§Ù„Ù‚Ø§Ø¦Ø¯ Ù…Ø§Ù‡Ø±</h2>
        <div class="nav-link" onclick="App.go('facebook')"><i class="fab fa-facebook"></i> ÙÙŠØ³Ø¨ÙˆÙƒ</div>
        <div class="nav-link" onclick="App.go('youtube')"><i class="fab fa-youtube"></i> ÙŠÙˆØªÙŠÙˆØ¨</div>
        <div class="nav-link" onclick="App.go('tiktok')"><i class="fab fa-tiktok"></i> ØªÙŠÙƒ ØªÙˆÙƒ</div>
        <div class="nav-link" onclick="App.theme()"><i class="fas fa-adjust"></i> Ø§Ù„Ù…Ø¸Ù‡Ø± (Ù„ÙŠÙ„ÙŠ/Ù†Ù‡Ø§Ø±ÙŠ)</div>
        <hr style="margin: 20px 0; opacity: 0.1;">
        <div class="nav-link" style="color:var(--primary)" onclick="App.auth()"><i class="fas fa-user-crown"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰</div>
    </nav>

    <div class="player-wrapper animate">
        <div class="viewport" id="master-view">
            <video controls><source src="https://www.w3schools.com/html/mov_bbb.mp4"></video>
        </div>
        
        <div class="info-card">
            <h1 id="view-title" class="video-t">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØ© Ù…Ø§Ù‡Ø± Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ©</h1>
            <div id="view-desc" class="video-d">Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¯Ø¹Ù… Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹. Ù‚Ù… Ø¨Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙƒÙ…Ø³Ø¤ÙˆÙ„ Ù„Ø¥Ø¶Ø§ÙØ© Ù…Ø­ØªÙˆØ§Ùƒ Ø§Ù„Ø®Ø§Øµ.</div>
        </div>

        <h3 style="margin-top: 40px; opacity: 0.5;">Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù„Ùƒ</h3>
        <div class="suggestions" id="grid"></div>
    </div>

    <div id="admin-panel">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:30px;">
            <h1>Ù„ÙˆØ­Ø© Ø§Ù„Ù†Ø´Ø± Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©</h1>
            <button onclick="location.reload()" style="background:none; color:red; border:none; cursor:pointer; font-weight:900;">Ø¥ØºÙ„Ø§Ù‚ X</button>
        </div>
        
        <div style="background:var(--surface); padding:30px; border-radius:20px;">
            <label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø£Ùˆ Ø§Ù„ØµÙˆØ±Ø©</label>
            <input type="text" id="in-title" placeholder="Ù…Ø«Ø§Ù„: Ø±Ø­Ù„ØªÙŠ ÙÙŠ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©">
            
            <label>Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ÙŠØ¯ÙŠØ§ (ÙŠÙˆØªÙŠÙˆØ¨ØŒ ÙÙŠØ³Ø¨ÙˆÙƒØŒ Ø±Ø§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø± mp4/jpg)</label>
            <input type="text" id="in-url" placeholder="Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ù‡Ù†Ø§...">
            
            <label>Ø§Ù„ÙˆØµÙ Ø§Ù„Ø´Ø§Ù…Ù„</label>
            <textarea id="in-desc" rows="5" placeholder="Ø§ÙƒØªØ¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù‡Ù†Ø§..."></textarea>
            
            <button class="btn-post" onclick="App.publish()">Ù†Ø´Ø± Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙÙˆØ±Ø§Ù‹ ğŸš€</button>
        </div>
    </div>

    <script>
        const App = {
            state: {
                waitTime: 3,
                links: { facebook: "https://facebook.com/your-profile", youtube: "#", tiktok: "#" },
                data: [
                    { t: "ÙÙŠØ¯ÙŠÙˆ ØªØ¬Ø±ÙŠØ¨ÙŠ Ù…Ù† Ø®Ø§Ø¯Ù… Ø®Ø§Ø±Ø¬ÙŠ", u: "https://www.w3schools.com/html/mov_bbb.mp4", d: "Ù‡Ø°Ø§ Ø±Ø§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø± Ø¨ØµÙŠØºØ© mp4.", type: "video" },
                    { t: "ØµÙˆØ±Ø© Ø¨Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ© Ù…Ù† Unsplash", u: "https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=800", d: "Ù‡Ø°Ø§ Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ù…Ø¨Ø§Ø´Ø±.", type: "image" }
                ]
            },

            init() {
                this.renderGrid();
            },

            // Ù…Ø­Ù„Ù„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø°ÙƒÙŠ (The Magic Parser)
            parseURL(url) {
                if (url.includes('youtube.com/watch?v=')) {
                    const id = url.split('v=')[1].split('&')[0];
                    return { type: 'embed', url: `https://www.youtube.com/embed/${id}?autoplay=1` };
                }
                if (url.includes('youtu.be/')) {
                    const id = url.split('youtu.be/')[1];
                    return { type: 'embed', url: `https://www.youtube.com/embed/${id}?autoplay=1` };
                }
                const ext = url.split('.').pop().toLowerCase();
                if (['mp4', 'webm', 'ogg'].includes(ext)) return { type: 'video', url };
                if (['jpg', 'jpeg', 'png', 'webp', 'gif'].includes(ext)) return { type: 'image', url };
                return { type: 'video', url }; // Default
            },

            renderGrid() {
                const grid = document.getElementById('grid');
                grid.innerHTML = this.state.data.map((item, i) => `
                    <div class="item-card animate" onclick="App.view(${i})">
                        <img src="${item.type === 'image' ? item.u : 'https://via.placeholder.com/400x225/222/fff?text=MEDIA'}" class="thumb">
                        <div style="padding:15px">
                            <div style="font-weight:900; font-size:14px;">${item.t}</div>
                        </div>
                    </div>
                `).join('');
            },

            view(idx) {
                const item = this.state.data[idx];
                const viewer = document.getElementById('master-view');
                const res = this.parseURL(item.u);

                document.getElementById('view-title').innerText = item.t;
                document.getElementById('view-desc').innerText = item.d;

                if (res.type === 'embed') {
                    viewer.innerHTML = `<iframe src="${res.url}" allowfullscreen allow="autoplay"></iframe>`;
                } else if (res.type === 'video') {
                    viewer.innerHTML = `<video controls autoplay><source src="${res.url}"></video>`;
                } else {
                    viewer.innerHTML = `<img src="${res.url}">`;
                }
                window.scrollTo({top: 0, behavior: 'smooth'});
            },

            publish() {
                const t = document.getElementById('in-title').value;
                const u = document.getElementById('in-url').value;
                const d = document.getElementById('in-desc').value;
                if(!t || !u) return alert("Ø§Ù…Ù„Ø£ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª!");

                const res = this.parseURL(u);
                this.state.data.unshift({ t, u, d, type: res.type });
                this.renderGrid();
                this.view(0);
                document.getElementById('admin-panel').style.display = 'none';
                alert("ØªÙ… Ø§Ù„Ù†Ø´Ø± Ø¨Ù†Ø¬Ø§Ø­!");
            },

            go(platform) {
                const layer = document.getElementById('redir-layer');
                const num = document.getElementById('count-num');
                let c = this.state.waitTime;
                
                layer.style.display = 'flex';
                num.innerText = c;
                
                const timer = setInterval(() => {
                    c--;
                    num.innerText = c;
                    if(c <= 0) {
                        clearInterval(timer);
                        window.location.href = this.state.links[platform];
                    }
                }, 1000);
            },

            auth() {
                const u = prompt("Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„:");
                const p = prompt("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±:");
                if(u === "mahir" && p === "1234") {
                    document.getElementById('admin-panel').style.display = 'block';
                    this.menu();
                } else alert("Ø®Ø·Ø£!");
            },

            menu(e) { if(e) e.stopPropagation(); document.getElementById('sidebar').classList.toggle('active'); },
            theme() { document.body.setAttribute('data-theme', document.body.getAttribute('data-theme') === 'light' ? 'dark' : 'light'); }
        };

        window.onclick = () => document.getElementById('sidebar').classList.remove('active');
        window.onload = () => App.init();
    </script>
</body>
</html>
