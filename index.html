<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>HESPRESS | Ù‡Ø³Ø¨Ø±ÙŠØ³ Ù…Ø§Ù‡Ø±</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <style>
        :root {
            --hes-red: #bc202b;
            --hes-dark: #1e1e1e;
            --bg: #f4f4f4;
            --card: #ffffff;
            --text: #333333;
            --border: #e1e1e1;
            --safe-bottom: env(safe-area-inset-bottom);
        }

        [data-theme="dark"] {
            --bg: #0b0b0b;
            --card: #181818;
            --text: #eeeeee;
            --border: #2a2a2a;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { 
            background-color: var(--bg); font-family: 'Cairo', sans-serif; color: var(--text);
            overflow-x: hidden; transition: background 0.4s ease;
        }

        /* --- Header (Hespress Style) --- */
        header {
            background: var(--card); border-bottom: 3px solid var(--hes-red);
            padding: 10px 15px; position: sticky; top: 0; z-index: 1000;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .logo { font-family: 'Amiri'; font-size: 28px; font-weight: 900; color: var(--hes-red); letter-spacing: -1px; cursor: pointer; }
        .header-tools { display: flex; gap: 15px; font-size: 20px; }

        /* --- Breaking News Ticker --- */
        .ticker {
            background: var(--hes-red); color: white; height: 35px; display: flex;
            align-items: center; overflow: hidden; font-size: 13px; font-weight: 700;
        }
        .ticker-label { background: #000; padding: 0 15px; z-index: 2; position: relative; }
        .ticker-content { white-space: nowrap; animation: ticker-move 30s linear infinite; padding-right: 100%; }
        @keyframes ticker-move { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        /* --- Navigation --- */
        nav {
            background: var(--card); display: flex; overflow-x: auto;
            padding: 10px; border-bottom: 1px solid var(--border); scrollbar-width: none;
        }
        nav::-webkit-scrollbar { display: none; }
        .nav-item { 
            padding: 5px 15px; white-space: nowrap; font-weight: 700; color: var(--text);
            transition: 0.3s; border-radius: 20px; cursor: pointer;
        }
        .nav-item.active { background: var(--hes-red); color: #fff; }

        /* --- Hero Section (The Big Headline) --- */
        .hero { position: relative; width: 100%; height: 320px; overflow: hidden; cursor: pointer; }
        .hero img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
        .hero:active img { transform: scale(1.05); }
        .hero-overlay {
            position: absolute; inset: 0;
            background: linear-gradient(0deg, rgba(0,0,0,0.9) 0%, transparent 60%);
            display: flex; flex-direction: column; justify-content: flex-end; padding: 20px;
        }
        .hero-title { font-family: 'Amiri'; color: #fff; font-size: 24px; line-height: 1.3; }

        /* --- News Feed (Grid) --- */
        .feed { padding: 15px; display: grid; gap: 15px; }
        .card { 
            background: var(--card); border-radius: 12px; overflow: hidden;
            border: 1px solid var(--border); display: flex; flex-direction: column;
            animation: fadeInUp 0.5s ease-out;
        }
        .card-img { width: 100%; height: 180px; object-fit: cover; }
        .card-body { padding: 12px; }
        .card-meta { color: var(--hes-red); font-size: 11px; font-weight: 900; margin-bottom: 5px; }
        .card-title { font-size: 16px; font-weight: 700; line-height: 1.4; }

        /* --- Floating Action Button (Customizer) --- */
        .customizer-btn {
            position: fixed; bottom: 30px; left: 20px; width: 60px; height: 60px;
            background: var(--hes-red); color: white; border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            font-size: 25px; box-shadow: 0 5px 20px rgba(188,32,43,0.4);
            z-index: 5000; cursor: pointer;
        }

        /* --- Customization Panel --- */
        #custom-panel {
            position: fixed; inset: 0; background: rgba(0,0,0,0.85); backdrop-filter: blur(10px);
            z-index: 10000; display: none; padding: 40px 20px; overflow-y: auto;
        }
        .panel-content { background: #fff; color: #000; border-radius: 30px; padding: 25px; }
        .panel-content h2 { border-bottom: 2px solid #eee; margin-bottom: 20px; padding-bottom: 10px; }
        .input-group { margin-bottom: 15px; }
        .input-group label { display: block; font-weight: 700; margin-bottom: 5px; }
        .input-group input, .input-group select { 
            width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 10px; font-family: inherit;
        }
        .save-btn {
            width: 100%; padding: 15px; background: var(--hes-red); color: #fff;
            border: none; border-radius: 12px; font-weight: 900; margin-top: 10px;
        }

        /* --- Bottom Navigation --- */
        .bottom-nav {
            position: fixed; bottom: 0; width: 100%; background: var(--card);
            border-top: 1px solid var(--border); display: flex; justify-content: space-around;
            padding: 10px 0 calc(10px + var(--safe-bottom)); z-index: 1000;
        }
        .b-item { display: flex; flex-direction: column; align-items: center; font-size: 10px; color: #888; }
        .b-item.active { color: var(--hes-red); }
        .b-item i { font-size: 20px; margin-bottom: 4px; }
    </style>
</head>
<body data-theme="light">

    <header>
        <i class="fas fa-bars" onclick="alert('ÙØªØ­ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©')"></i>
        <div class="logo" id="main-logo-text">HESPRESS</div>
        <div class="header-tools">
            <i class="fas fa-moon" onclick="Engine.toggleDarkMode()"></i>
            <i class="fas fa-search"></i>
        </div>
    </header>

    <div class="ticker">
        <div class="ticker-label">Ø¹Ø§Ø¬Ù„</div>
        <div class="ticker-content" id="breaking-ticker">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø¹Ø§Ø¬Ù„Ø© Ù…Ù† Ø®ÙˆØ§Ø¯Ù… Ù‡Ø³Ø¨Ø±ÙŠØ³ Ù…Ø§Ù‡Ø±...</div>
    </div>

    <nav id="category-nav">
        </nav>

    <main>
        <div class="hero" onclick="alert('ÙØªØ­ Ø§Ù„Ø®Ø¨Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ')">
            <img id="hero-img" src="https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=800">
            <div class="hero-overlay">
                <div class="hero-title" id="hero-title">...</div>
            </div>
        </div>

        <div class="feed" id="news-feed">
            </div>
    </main>

    <div class="bottom-nav">
        <div class="b-item active"><i class="fas fa-home"></i>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
        <div class="b-item"><i class="fas fa-play-circle"></i>Ù‡Ø³Ø¨Ø±ÙŠØ³ TV</div>
        <div class="b-item"><i class="fas fa-star"></i>Ø§Ù„Ø£ÙƒØ«Ø± Ù‚Ø±Ø§Ø¡Ø©</div>
        <div class="b-item"><i class="fas fa-user"></i>Ø­Ø³Ø§Ø¨ÙŠ</div>
    </div>

    <div class="customizer-btn" onclick="Engine.showPanel()">
        <i class="fas fa-paint-brush"></i>
    </div>

    <div id="custom-panel">
        <div class="panel-content">
            <h2>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù‚Ø§Ø¦Ø¯ Ù…Ø§Ù‡Ø±</h2>
            
            <div class="input-group">
                <label>Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Logo)</label>
                <input type="text" id="cfg-logo" placeholder="HESPRESS">
            </div>

            <div class="input-group">
                <label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø§Ù†Ø´ÙŠØª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</label>
                <input type="text" id="cfg-hero-t">
            </div>

            <div class="input-group">
                <label>Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ù…Ø§Ù†Ø´ÙŠØª</label>
                <input type="text" id="cfg-hero-i">
            </div>

            <div class="input-group">
                <label>Ù†Øµ Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ø§Ø¬Ù„</label>
                <textarea id="cfg-ticker" style="width:100%; border:1px solid #ddd; border-radius:10px; padding:10px;" rows="3"></textarea>
            </div>

            <div class="input-group">
                <label>Ù„ÙˆÙ† Ø§Ù„Ù‡ÙˆÙŠØ© (Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ)</label>
                <input type="color" id="cfg-color" value="#bc202b">
            </div>

            <button class="save-btn" onclick="Engine.saveConfig()">Ø­ÙØ¸ ÙˆØªØ·Ø¨ÙŠÙ‚ ÙÙˆØ±Ø§Ù‹ ğŸš€</button>
            <button class="save-btn" style="background:#555" onclick="Engine.hidePanel()">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
    </div>

    <script>
        const Engine = {
            config: null,

            init() {
                const saved = localStorage.getItem('MAHIR_HES_CONFIG');
                this.config = saved ? JSON.parse(saved) : {
                    logo: 'HESPRESS',
                    heroT: 'Ù…Ø§Ù‡Ø± ÙŠØ·Ù„Ù‚ Ø£Ø¶Ø®Ù… Ù†Ø¸Ø§Ù… ØªØ®ØµÙŠØµ Ù„Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ù‚Ù…ÙŠ Ø¨Ø§Ù„Ù…ØºØ±Ø¨',
                    heroI: 'https://images.unsplash.com/photo-1495020689067-958852a7765e?w=800',
                    ticker: 'Ø¹Ø§Ø¬Ù„: Ø¥Ø·Ù„Ø§Ù‚ Ù†Ø³Ø®Ø© "Ù‡Ø³Ø¨Ø±ÙŠØ³ Ù…Ø§Ù‡Ø±" Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ®ØµÙŠØµ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ ... Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¯Ø¹Ù… ÙˆØ¶Ø¹ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù„ÙŠÙ„ÙŠ ... Ø³Ø±Ø¹Ø© Ø§Ù„ØªØµÙØ­ 0.1 Ø«Ø§Ù†ÙŠØ© ...',
                    mainColor: '#bc202b',
                    categories: ['Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©', 'Ø³ÙŠØ§Ø³Ø©', 'Ø§Ù‚ØªØµØ§Ø¯', 'Ø±ÙŠØ§Ø¶Ø©', 'Ø¬Ù‡Ø§Øª', 'Ø­ÙˆØ§Ø¯Ø«', 'ÙÙ† ÙˆØ«Ù‚Ø§ÙØ©'],
                    news: [
                        { t: 'Ø£Ø³ÙˆØ¯ Ø§Ù„Ø£Ø·Ù„Ø³ ÙŠØ­Ù‚Ù‚ÙˆÙ† ÙÙˆØ²Ø§Ù‹ ØªØ§Ø±ÙŠØ®ÙŠØ§Ù‹ ÙÙŠ Ø§Ù„ÙˆØ¯ÙŠØ© Ø§Ù„Ø¯ÙˆÙ„ÙŠØ©', c: 'Ø±ÙŠØ§Ø¶Ø©', i: 'https://images.unsplash.com/photo-1508098682722-e99c43a406b2?w=400' },
                        { t: 'ØªÙˆÙ‚Ø¹Ø§Øª Ø¨Ù†Ù…Ùˆ Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ Ø§Ù„ÙˆØ·Ù†ÙŠ Ø¨Ù†Ø³Ø¨Ø© 4% ÙÙŠ Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©', c: 'Ø§Ù‚ØªØµØ§Ø¯', i: 'https://images.unsplash.com/photo-1611974714658-99d32d08916d?w=400' },
                        { t: 'Ù…Ù‡Ø±Ø¬Ø§Ù† Ù…Ø±Ø§ÙƒØ´ Ù„Ù„Ø³ÙŠÙ†Ù…Ø§ ÙŠØ¬Ø°Ø¨ Ù†Ø¬ÙˆÙ… Ø§Ù„Ø¹Ø§Ù„Ù…', c: 'ÙÙ† ÙˆØ«Ù‚Ø§ÙØ©', i: 'https://images.unsplash.com/photo-1492691527719-9d1e07e534b4?w=400' }
                    ]
                };
                this.render();
            },

            render() {
                // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù†ØµÙˆØµ ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù†
                document.getElementById('main-logo-text').innerText = this.config.logo;
                document.getElementById('hero-title').innerText = this.config.heroT;
                document.getElementById('hero-img').src = this.config.heroI;
                document.getElementById('breaking-ticker').innerText = this.config.ticker;
                document.documentElement.style.setProperty('--hes-red', this.config.mainColor);

                // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª
                const nav = document.getElementById('category-nav');
                nav.innerHTML = this.config.categories.map((c, i) => 
                    `<div class="nav-item ${i===0?'active':''}" onclick="Engine.setActiveNav(this)">${c}</div>`
                ).join('');

                // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£Ø®Ø¨Ø§Ø±
                const feed = document.getElementById('news-feed');
                feed.innerHTML = this.config.news.map(n => `
                    <div class="card animate__animated animate__fadeIn">
                        <img class="card-img" src="${n.i}">
                        <div class="card-body">
                            <div class="card-meta">${n.c}</div>
                            <div class="card-title">${n.t}</div>
                        </div>
                    </div>
                `).join('');

                // ØªØ­Ø¯ÙŠØ« Ù‚ÙŠÙ… Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª ÙÙŠ Ø§Ù„Ù„ÙˆØ­Ø©
                document.getElementById('cfg-logo').value = this.config.logo;
                document.getElementById('cfg-hero-t').value = this.config.heroT;
                document.getElementById('cfg-hero-i').value = this.config.heroI;
                document.getElementById('cfg-ticker').value = this.config.ticker;
            },

            setActiveNav(el) {
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                el.classList.add('active');
            },

            toggleDarkMode() {
                const b = document.body;
                b.setAttribute('data-theme', b.getAttribute('data-theme') === 'dark' ? 'light' : 'dark');
            },

            showPanel() { document.getElementById('custom-panel').style.display = 'block'; },
            hidePanel() { document.getElementById('custom-panel').style.display = 'none'; },

            saveConfig() {
                this.config.logo = document.getElementById('cfg-logo').value;
                this.config.heroT = document.getElementById('cfg-hero-t').value;
                this.config.heroI = document.getElementById('cfg-hero-i').value;
                this.config.ticker = document.getElementById('cfg-ticker').value;
                this.config.mainColor = document.getElementById('cfg-color').value;

                localStorage.setItem('MAHIR_HES_CONFIG', JSON.stringify(this.config));
                this.render();
                this.hidePanel();
                alert('ØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø¨Ù†Ø¬Ø§Ø­ ÙŠØ§ Ù…Ø§Ù‡Ø±!');
            }
        };

        window.onload = () => Engine.init();
    </script>
</body>
</html>
