<!DOCTYPE html>
<html lang="ar" dir="rtl" id="main-html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SMART PLATFORM PRO | MAHER</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* ... (ุจููุฉ ุฃููุงุท CSS ุงููุฏููุฉ ููุง ูู) ... */
    </style>
</head>
<body data-theme="dark">

    <!-- ... (ุจููุฉ ุงููููู ุงููุฏูู ููุง ูู) ... -->

    <div id="admin-screen" class="full-modal">
        <div class="modal-content">
            <h2 style="color:var(--primary); text-align:center;">ุฅุนุฏุงุฏุงุช ุงูููุตุฉ ุงูุดุงููุฉ</h2>
            <hr style="margin:15px 0; opacity:0.1">
            
            <label>ุงูุฃูุงู</label>
            <input type="text" id="adm-set-user" placeholder="ุงุณู ุงููุณุชุฎุฏู">
            <input type="password" id="adm-set-pass" placeholder="ุงูุฑูู ุงูุณุฑู">

            <label>ุชูุงุตู ูุนูุง (ุงูุฑูุงุจุท)</label>
            <input type="text" id="adm-link-fb" placeholder="ุฑุงุจุท ููุณุจูู">
            <input type="text" id="adm-link-tk" placeholder="ุฑุงุจุท ุชูู ุชูู">
            <input type="text" id="adm-link-ig" placeholder="ุฑุงุจุท ุงูุณุชุบุฑุงู">
            <input type="text" id="adm-link-wa" placeholder="ุฑุงุจุท ูุงุชุณุงุจ">

            <label>ุงููููุฉ</label>
            <input type="text" id="adm-site-name" placeholder="ุงุณู ุงูููุตุฉ">
            <input type="text" id="adm-avatar-url" placeholder="ุฑุงุจุท ุตูุฑุฉ ุงููุณุคูู ุงููุฑุจุนุฉ">

            <label>ุงูุฎุจุฑ ุงูุนุงุฌู</label>
            <select id="adm-news-s">
                <option value="off">ุฅููุงู</option>
                <option value="on">ุชูุนูู</option>
            </select>
            <input type="text" id="adm-news-t" placeholder="ูุต ุงูุฎุจุฑ">
            <input type="text" id="adm-news-l" placeholder="ุฑุงุจุท ุงูุฎุจุฑ (ุงุฎุชูุงุฑู)">

            <label>ุฅุถุงูุฉ ููุฏูู/ุตูุฑุฉ ุฌุฏูุฏุฉ</label>
            <input type="text" id="adm-item-t" placeholder="ุงูุนููุงู">
            <input type="text" id="adm-item-u" placeholder="ุงูุฑุงุจุท (ููุชููุจ ุฃู ูุจุงุดุฑ)">
            <textarea id="adm-item-d" rows="2" placeholder="ุงููุตู"></textarea>
            <button class="btn-action" onclick="App.saveAll()">ุญูุธ ูุฅุนุงุฏุฉ ุชุดุบูู ๐</button>
            <button class="btn-action" style="background:#333; margin-top:10px" onclick="App.closeModals()">ุฅุบูุงู</button>
        </div>
    </div>

    <script>
        const App = {
            db: {
                auth: { user: 'mahir', pass: '1234' },
                siteName: 'SMART PLATFORM',
                avatar: 'https://via.placeholder.com/180',
                news: { active: false, text: '', link: '' },
                links: { facebook: '#', tiktok: '#', instagram: '#', whatsapp: '#' },
                items: [] // ุชููุฆุฉ ูุตูููุฉ ุงูุนูุงุตุฑ
            },

            init() {
                const saved = localStorage.getItem('MAHER_ULTRA_DB');
                this.db = saved ? JSON.parse(saved) : this.db; // ุชุญููู ุงูุจูุงูุงุช ูู localStorage
                this.render();
            },

            render() {
                // ... (ุจููุฉ ูุธุงุฆู ุงูุนุฑุถ ุงููุฏููุฉ) ...
                this.renderItems();
            },

            renderItems() {
                const grid = document.getElementById('suggestion-grid');
                grid.innerHTML = this.db.items.map((it, i) => `
                    <div class="thumb-item" onclick="App.loadMedia(${i})">
                        <img src="${it.type==='image'?it.u:'https://via.placeholder.com/400x225/222/fff?text=โถ'}" class="thumb-img">
                        <div class="thumb-text">${it.t}</div>
                    </div>
                `).join('');
            },

            saveAll() {
                this.db.auth.user = document.getElementById('adm-set-user').value || this.db.auth.user;
                this.db.auth.pass = document.getElementById('adm-set-pass').value || this.db.auth.pass;
                this.db.siteName = document.getElementById('adm-site-name').value || this.db.siteName;
                this.db.avatar = document.getElementById('adm-avatar-url').value || this.db.avatar;
                this.db.news.active = document.getElementById('adm-news-s').value === 'on';
                this.db.news.text = document.getElementById('adm-news-t').value;
                this.db.news.link = document.getElementById('adm-news-l').value;
                this.db.links.facebook = document.getElementById('adm-link-fb').value;
                this.db.links.tiktok = document.getElementById('adm-link-tk').value;
                this.db.links.instagram = document.getElementById('adm-link-ig').value;
                this.db.links.whatsapp = document.getElementById('adm-link-wa').value;

                const newItem = {
                    t: document.getElementById('adm-item-t').value,
                    u: document.getElementById('adm-item-u').value,
                    d: document.getElementById('adm-item-d').value,
                    type: 'video' // ุฃู 'image' ุจูุงุกู ุนูู ุงูุชุญูู
                };
                this.db.items.push(newItem);

                localStorage.setItem('MAHER_ULTRA_DB', JSON.stringify(this.db));
                this.render();
                this.closeModals();
                alert("โ ุชู ุงูุญูุธ ุจูุฌุงุญ!");
            },

            // ... (ุจููุฉ ุงููุธุงุฆู ุงููุฏููุฉ) ...
        };

        window.onload = () => App.init();
        window.onclick = () => document.getElementById('sidebar').classList.remove('active');
    </script>
</body>
</html>
