<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MAHIR OS - Ultimate Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <style>
        :root {
            --primary: #1877f2; /* Facebook Blue */
            --yt-red: #ff0000;
            --wa-green: #25d366;
            --bg: #18191a;
            --card-bg: #242526;
            --text: #e4e6eb;
        }

        body {
            margin: 0; padding: 0; font-family: 'Cairo', sans-serif;
            background: var(--bg); color: var(--text); overflow-x: hidden;
        }

        /* --- شريط جوجل العلوي --- */
        header {
            height: 60px; background: var(--card-bg); display: flex;
            align-items: center; justify-content: space-between;
            padding: 0 20px; position: fixed; width: 100%; z-index: 1000;
            border-bottom: 1px solid #3e4042;
        }

        .search-container {
            background: #3a3b3c; border-radius: 50px;
            display: flex; align-items: center; padding: 5px 15px; width: 30%;
        }

        .search-container input {
            background: transparent; border: none; color: white; width: 100%; padding: 5px; outline: none;
        }

        /* --- الهيكل العام --- */
        .wrapper { display: flex; margin-top: 60px; }

        /* --- القائمة الجانبية (مثل فيسبوك/يوتيوب) --- */
        aside {
            width: 280px; height: calc(100vh - 60px); position: fixed;
            background: var(--bg); padding: 10px; overflow-y: auto;
        }

        .menu-item {
            padding: 10px; border-radius: 10px; display: flex; align-items: center;
            cursor: pointer; transition: 0.3s;
        }

        .menu-item:hover { background: #3a3b3c; }
        .menu-item i { width: 40px; font-size: 20px; color: var(--primary); }

        /* --- ساحة المحتوى (مثل News Feed) --- */
        main {
            margin-right: 280px; width: calc(100% - 600px); padding: 20px;
        }

        /* القصص (Stories) */
        .stories { display: flex; gap: 10px; margin-bottom: 20px; overflow-x: auto; padding-bottom: 10px; }
        .story {
            width: 110px; height: 180px; background-size: cover; background-position: center;
            border-radius: 12px; position: relative; cursor: pointer; flex-shrink: 0;
            border: 2px solid var(--primary);
        }

        /* المنشورات (Posts) */
        .post {
            background: var(--card-bg); border-radius: 12px; padding: 15px; margin-bottom: 20px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .post-header { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
        .post-header img { width: 40px; height: 40px; border-radius: 50%; }

        .post-media img, .post-media video {
            width: 100%; border-radius: 8px; margin-top: 10px;
        }

        .post-actions {
            display: flex; justify-content: space-around; border-top: 1px solid #3e4042;
            margin-top: 10px; padding-top: 10px;
        }

        .action { cursor: pointer; color: #b0b3b8; font-weight: bold; }
        .action:hover { color: var(--primary); }

        /* --- نظام المحادثة الجانبي (WhatsApp Style) --- */
        .chat-sidebar {
            width: 320px; height: calc(100vh - 60px); position: fixed; left: 0;
            background: var(--card-bg); border-right: 1px solid #3e4042; padding: 10px;
        }

        .chat-box {
            height: 70%; overflow-y: auto; border-bottom: 1px solid #3e4042;
        }

        .msg { background: #3a3b3c; padding: 8px 12px; border-radius: 15px; margin: 5px 0; width: fit-content; }
        .msg.me { background: var(--primary); margin-right: auto; }

        /* --- لوحة الإدارة المخفية --- */
        #admin-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 9999; display: none;
            justify-content: center; align-items: center;
        }

        .admin-content {
            background: #242526; width: 80%; max-height: 90%; border-radius: 15px;
            padding: 30px; overflow-y: auto; position: relative;
        }

        .admin-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }

        input, textarea, select {
            width: 100%; padding: 12px; margin: 10px 0; background: #3a3b3c;
            border: none; border-radius: 8px; color: white;
        }

        .btn-gold { background: linear-gradient(45deg, #f39c12, #f1c40f); color: black; font-weight: bold; border: none; padding: 15px; border-radius: 8px; cursor: pointer; }

    </style>
</head>
<body>

    <header>
        <div style="display: flex; align-items: center; gap: 10px;">
            <i class="fab fa-facebook" style="font-size: 40px; color: var(--primary);"></i>
            <div class="search-container">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="بحث في Mahir OS...">
            </div>
        </div>
        <div class="nav-icons">
            <button class="btn-gold" onclick="openAdmin()">لوحة التحكم (Admin)</button>
        </div>
    </header>

    <div class="wrapper">
        <aside>
            <div class="menu-item"><i class="fas fa-user-circle"></i> <span>ماهر (Mahir)</span></div>
            <div class="menu-item"><i class="fas fa-users"></i> <span>الأصدقاء</span></div>
            <div class="menu-item"><i class="fas fa-video" style="color: var(--yt-red);"></i> <span>Watch (يوتيوب)</span></div>
            <div class="menu-item"><i class="fas fa-store"></i> <span>الماركت</span></div>
            <hr>
            <h3>اختصاراتك</h3>
            <div class="menu-item"><i class="fas fa-gamepad"></i> <span>الألعاب</span></div>
        </aside>

        <main>
            <div class="stories" id="stories-container">
                </div>

            <div class="post">
                <div class="post-header">
                    <img src="https://i.pravatar.cc/150?u=mahir" alt="">
                    <input type="text" placeholder="بماذا تفكر يا ماهر؟" style="border-radius: 20px; background: #3a3b3c; border: none; padding: 10px; width: 80%; color: white;">
                </div>
            </div>

            <div id="feed-container">
                </div>
        </main>

        <div class="chat-sidebar">
            <h3>المحادثات (WhatsApp)</h3>
            <div class="chat-box" id="chat-msgs">
                <div class="msg">أهلاً بك في نظام المراسلة!</div>
                <div class="msg me">هذا رائع جداً!</div>
            </div>
            <div style="display: flex; gap: 5px; margin-top: 10px;">
                <input type="text" id="chat-input" placeholder="اكتب رسالة...">
                <button onclick="sendMsg()" style="background: var(--wa-green); border: none; border-radius: 5px; padding: 10px;"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <div id="admin-modal">
        <div class="admin-content">
            <span style="position: absolute; left: 20px; top: 20px; cursor: pointer; font-size: 30px;" onclick="closeAdmin()">&times;</span>
            <h1>لوحة تحكم المدير <span style="color: gold;">Mahir</span></h1>
            
            <div class="admin-grid">
                <div>
                    <h3>إضافة منشور جديد (صورة/فيديو)</h3>
                    <input type="text" id="adm-name" placeholder="اسم الناشر">
                    <input type="text" id="adm-img" placeholder="رابط الصورة أو الفيديو">
                    <textarea id="adm-text" placeholder="نص المنشور..."></textarea>
                    <button class="btn-gold" onclick="createPost()">نشر المنشور فوراً</button>
                </div>
                <div>
                    <h3>إعدادات النظام</h3>
                    <label>تغيير اسم المستخدم:</label>
                    <input type="text" id="adm-new-user" placeholder="الاسم الجديد">
                    <label>تغيير كلمة السر:</label>
                    <input type="password" id="adm-new-pass" placeholder="كلمة السر الجديدة">
                    <button class="btn-gold" onclick="saveSettings()" style="background: #2ecc71;">حفظ الإعدادات</button>
                </div>
            </div>
            <hr>
            <button class="btn-gold" onclick="clearAll()" style="background: #e74c3c; width: 100%;">مسح كل بيانات الموقع</button>
        </div>
    </div>

    <script>
        // --- البيانات الأساسية ونظام الحفظ ---
        let adminName = localStorage.getItem('adminName') || 'mahir';
        let adminPass = localStorage.getItem('adminPass') || '1234';
        
        let posts = JSON.parse(localStorage.getItem('posts')) || [
            { name: 'يوتيوب بالعربي', text: 'شاهد أفضل الفيديوهات التعليمية هنا.', media: 'https://images.unsplash.com/photo-1611162617474-5b21e879e113', type: 'img' },
            { name: 'أخبار التقنية', text: 'إطلاق هاتف جديد اليوم بمواصفات خيالية!', media: 'https://images.unsplash.com/photo-1511707171634-5f897ff02aa9', type: 'img' }
        ];

        // --- نظام الإدارة ---
        function openAdmin() {
            const user = prompt("أدخل اسم المستخدم:");
            const pass = prompt("أدخل كلمة السر:");
            if(user === adminName && pass === adminPass) {
                document.getElementById('admin-modal').style.display = 'flex';
            } else {
                alert("بيانات الدخول خاطئة!");
            }
        }

        function closeAdmin() { document.getElementById('admin-modal').style.display = 'none'; }

        function createPost() {
            const newPost = {
                name: document.getElementById('adm-name').value || 'Mahir',
                text: document.getElementById('adm-text').value,
                media: document.getElementById('adm-img').value || 'https://via.placeholder.com/600',
                type: 'img'
            };
            posts.unshift(newPost);
            saveAndRender();
            closeAdmin();
        }

        function saveSettings() {
            const u = document.getElementById('adm-new-user').value;
            const p = document.getElementById('adm-new-pass').value;
            if(u) { adminName = u; localStorage.setItem('adminName', u); }
            if(p) { adminPass = p; localStorage.setItem('adminPass', p); }
            alert("تم التحديث!");
        }

        // --- نظام المحادثة ---
        function sendMsg() {
            const inp = document.getElementById('chat-input');
            if(inp.value) {
                const chat = document.getElementById('chat-msgs');
                chat.innerHTML += `<div class="msg me">${inp.value}</div>`;
                inp.value = '';
                chat.scrollTop = chat.scrollHeight;
            }
        }

        // --- العرض (Rendering) ---
        function render() {
            // رندر القصص
            const storyCont = document.getElementById('stories-container');
            storyCont.innerHTML = '';
            for(let i=0; i<6; i++) {
                storyCont.innerHTML += `<div class="story" style="background-image: url('https://picsum.photos/200/300?sig=${i}')"></div>`;
            }

            // رندر المنشورات
            const feed = document.getElementById('feed-container');
            feed.innerHTML = '';
            posts.forEach(p => {
                feed.innerHTML += `
                    <div class="post">
                        <div class="post-header">
                            <img src="https://i.pravatar.cc/150?u=${p.name}">
                            <div><strong>${p.name}</strong><br><small>منذ قليل</small></div>
                        </div>
                        <p>${p.text}</p>
                        <div class="post-media">
                            <img src="${p.media}">
                        </div>
                        <div class="post-actions">
                            <div class="action" onclick="this.style.color='#1877f2'"><i class="far fa-thumbs-up"></i> أعجبني</div>
                            <div class="action"><i class="far fa-comment"></i> تعليق</div>
                            <div class="action"><i class="fas fa-share"></i> مشاركة</div>
                        </div>
                    </div>
                `;
            });
        }

        function saveAndRender() {
            localStorage.setItem('posts', JSON.stringify(posts));
            render();
        }

        function clearAll() {
            localStorage.clear();
            location.reload();
        }

        // بدء التشغيل
        render();
    </script>
</body>
</html>
