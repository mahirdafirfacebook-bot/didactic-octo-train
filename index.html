<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ù…Ø§Ù‡Ø± Ø§Ù„Ø³ÙŠØ§Ø¯ÙŠØ© | MAHIR PRO MAX SYSTEM</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&family=Cairo:wght@300;400;600;700;900&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    
    <style>
        :root {
            --primary: #c0392b; /* Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø«ÙˆØ±ÙŠ */
            --dark-core: #0a0a0a;
            --sidebar-bg: #111111;
            --accent: #f1c40f;
            --success: #2ecc71;
            --danger: #e74c3c;
            --glass-bg: rgba(255, 255, 255, 0.03);
            --neon-shadow: 0 0 15px var(--primary);
            --sidebar-w: 320px;
        }

        /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø¹Ø§Ù…Ø© Ø§Ø­ØªØ±Ø§ÙÙŠØ© */
        * { margin: 0; padding: 0; box-sizing: border-box; scrollbar-width: thin; scrollbar-color: var(--primary) #111; }
        body { 
            background: var(--dark-core); color: #fff; font-family: 'Cairo', sans-serif; 
            overflow-x: hidden; line-height: 1.8;
        }

        /* --- Ø´Ø±ÙŠØ· Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ù„ÙˆÙ‰ (Top Command Bar) --- */
        .master-header {
            height: 80px; background: #000; border-bottom: 4px solid var(--primary);
            position: fixed; top: 0; width: 100%; z-index: 2000;
            display: flex; align-items: center; padding: 0 30px; justify-content: space-between;
        }

        .brand { display: flex; align-items: center; gap: 15px; cursor: pointer; }
        .brand h1 { font-family: 'Amiri', serif; font-size: 32px; color: var(--primary); text-transform: uppercase; }
        .brand span { font-family: 'Orbitron', sans-serif; font-size: 12px; color: var(--accent); letter-spacing: 2px; }

        .ticker-wrap {
            flex: 1; margin: 0 40px; background: #1a1a1a; height: 40px; border-radius: 5px;
            overflow: hidden; display: flex; align-items: center; border: 1px solid #333;
        }
        .ticker-title { background: var(--primary); color: #fff; padding: 0 20px; font-weight: 900; height: 100%; display: flex; align-items: center; z-index: 10; }
        .ticker-move { white-space: nowrap; animation: ticker-anim 40s linear infinite; font-weight: 600; color: #ddd; }
        @keyframes ticker-anim { 0% { transform: translateX(100%); } 100% { transform: translateX(-150%); } }

        /* --- Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ (Advanced Sidebar) --- */
        .main-layout { display: flex; margin-top: 80px; }
        
        aside.navigation {
            width: var(--sidebar-w); background: var(--sidebar-bg); height: calc(100vh - 80px);
            position: fixed; border-left: 1px solid #222; padding: 25px; overflow-y: auto;
        }

        .user-profile {
            background: var(--glass-bg); padding: 20px; border-radius: 15px; margin-bottom: 30px;
            border: 1px solid #333; text-align: center;
        }
        .avatar { width: 70px; height: 70px; border-radius: 50%; border: 3px solid var(--primary); margin-bottom: 10px; }
        
        .nav-section { margin-bottom: 35px; }
        .nav-section h5 { color: #555; font-size: 12px; margin-bottom: 15px; border-bottom: 1px solid #222; padding-bottom: 5px; }
        
        .menu-item {
            display: flex; align-items: center; gap: 15px; padding: 14px 18px; color: #bbb;
            text-decoration: none; border-radius: 10px; margin-bottom: 8px; transition: 0.3s; cursor: pointer;
        }
        .menu-item:hover, .menu-item.active { background: var(--primary); color: #fff; box-shadow: var(--neon-shadow); }
        .menu-item i { font-size: 20px; width: 30px; }

        /* --- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª (Main Feed) --- */
        main.workspace { margin-right: var(--sidebar-w); flex: 1; padding: 40px; background: url('https://www.transparenttextures.com/patterns/carbon-fibre.png'); }

        .feature-hero {
            height: 550px; border-radius: 30px; overflow: hidden; position: relative;
            box-shadow: 0 25px 50px rgba(0,0,0,0.8); margin-bottom: 60px; border: 1px solid #444;
        }
        .hero-img { width: 100%; height: 100%; object-fit: cover; filter: brightness(0.6); }
        .hero-data {
            position: absolute; bottom: 0; right: 0; width: 100%; padding: 60px;
            background: linear-gradient(transparent, #000);
        }
        .hero-data h2 { font-family: 'Amiri', serif; font-size: 50px; color: var(--accent); margin-bottom: 15px; line-height: 1.2; }

        .grid-system { display: grid; grid-template-columns: repeat(auto-fill, minmax(380px, 1fr)); gap: 35px; }
        .news-box {
            background: #151515; border-radius: 20px; overflow: hidden; border: 1px solid #222;
            transition: 0.4s; position: relative;
        }
        .news-box:hover { transform: translateY(-15px); border-color: var(--primary); }
        .news-thumb { width: 100%; height: 250px; object-fit: cover; }
        .news-info { padding: 25px; }
        .badge { background: var(--primary); font-size: 11px; padding: 5px 12px; border-radius: 20px; font-weight: 800; }
        
        /* --- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„ÙØ§Ø¦Ù‚Ø© (The Command Center) --- */
        .admin-portal {
            position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 3000;
            display: none; padding: 40px; overflow-y: auto;
        }
        .portal-container {
            max-width: 1300px; margin: auto; background: #111; border-radius: 35px;
            border: 2px solid var(--primary); padding: 50px; position: relative;
        }
        .portal-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 30px; margin-top: 30px; }
        .portal-card { background: #1a1a1a; padding: 25px; border-radius: 20px; border: 1px solid #333; }
        
        input, textarea, select {
            width: 100%; padding: 15px; background: #000; border: 1px solid #444;
            border-radius: 12px; color: #fff; margin-bottom: 15px; font-family: 'Cairo';
        }
        .action-btn {
            padding: 15px 35px; border: none; border-radius: 12px; cursor: pointer;
            font-weight: 900; transition: 0.3s; width: 100%;
        }
        .btn-prime { background: var(--primary); color: #fff; }
        .btn-prime:hover { background: #a0281b; }

        /* --- Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª --- */
        .notify-container { position: fixed; bottom: 30px; left: 30px; z-index: 9999; }
        .alert { 
            background: var(--primary); color: #fff; padding: 20px 40px; border-radius: 15px; 
            margin-top: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); display: flex; align-items: center; gap: 15px;
            animation: bounceInLeft 0.8s;
        }

        /* --- ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø£Ù…Ù†ÙŠØ© --- */
        #security-layer {
            position: fixed; inset: 0; background: #000; z-index: 5000;
            display: flex; justify-content: center; align-items: center;
        }
        .auth-box {
            text-align: center; padding: 60px; border-radius: 30px; border: 2px solid var(--primary);
            background: #0a0a0a; box-shadow: 0 0 50px var(--primary); width: 450px;
        }

        /* Ù†Ø§ÙØ°Ø© Ø¹Ø§Ø¦Ù…Ø© */
        .float-win {
            position: fixed; bottom: 20px; right: 20px; width: 400px; background: #111;
            border: 2px solid var(--primary); border-radius: 20px; z-index: 2500; display: none;
            flex-direction: column; box-shadow: 0 20px 50px #000;
        }
        .win-bar { background: var(--primary); padding: 12px 20px; display: flex; justify-content: space-between; cursor: move; font-weight: 900; }
    </style>
</head>
<body>

    <div id="security-layer">
        <div class="auth-box animate__animated animate__fadeInDown">
            <i class="fas fa-user-shield" style="font-size: 70px; color: var(--primary); margin-bottom: 25px;"></i>
            <h1 style="font-family: 'Amiri'; margin-bottom: 35px;">Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø³ÙŠØ§Ø¯ÙŠØ©</h1>
            <input type="text" id="auth-u" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠ">
            <input type="password" id="auth-p" placeholder="Ø´ÙØ±Ø© Ø§Ù„Ø¹Ø¨ÙˆØ±">
            <button class="action-btn btn-prime" onclick="System.authenticate()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù‡ÙˆÙŠØ©</button>
            <p style="color: #444; margin-top: 25px; font-size: 12px;">LOGIN: mahir / 1234</p>
        </div>
    </div>

    <header class="master-header">
        <div class="brand">
            <h1>Ù…Ø§Ù‡Ø±<span>NETWORK</span></h1>
        </div>
        <div class="ticker-wrap">
            <div class="ticker-title">Ø¹Ø§Ø¬Ù„</div>
            <div class="ticker-move" id="live-ticker-text">
                Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø£Ù‚Ù…Ø§Ø± Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ©... Ù…Ù†ØµØ© Ù…Ø§Ù‡Ø± Ù„Ù„ØµØ­Ø§ÙØ© Ø§Ù„Ø­Ø±Ø© ØªØ¨Ø¯Ø£ Ø§Ù„Ø¨Ø« Ø§Ù„Ø±Ù‚Ù…ÙŠ Ø§Ù„Ø´Ø§Ù…Ù„...
            </div>
        </div>
        <div style="display: flex; gap: 15px;">
            <button class="action-btn btn-prime" style="width: auto;" onclick="Control.toggle()">ØºØ±ÙØ© Ø§Ù„ØªØ­ÙƒÙ…</button>
        </div>
    </header>

    <div class="main-layout">
        <aside class="navigation">
            <div class="user-profile">
                <img src="https://ui-avatars.com/api/?name=Mahir+Admin&background=c0392b&color=fff" class="avatar">
                <h3>Ø§Ù„Ù‚Ø§Ø¦Ø¯ Ù…Ø§Ù‡Ø±</h3>
                <p style="color: var(--accent); font-size: 11px; font-weight: 900;">Ù…Ø¯ÙŠØ± Ø¹Ø§Ù… Ø§Ù„Ø´Ø¨ÙƒØ©</p>
            </div>

            <div class="nav-section">
                <h5>Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ©</h5>
                <div class="menu-item active" onclick="location.reload()"><i class="fas fa-satellite"></i> Ù„ÙˆØ­Ø© Ø§Ù„Ø¨Ø« Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</div>
                <div class="menu-item" onclick="System.openWin('intel')"><i class="fas fa-brain"></i> Ù…Ø±ÙƒØ² Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª</div>
                <div class="menu-item" onclick="System.openWin('ops')"><i class="fas fa-comments"></i> ØºØ±ÙØ© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</div>
            </div>

            <div class="nav-section">
                <h5>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰</h5>
                <div class="menu-item" onclick="Control.toggle()"><i class="fas fa-edit"></i> ØªØ­Ø±ÙŠØ± Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª</div>
                <div class="menu-item"><i class="fas fa-video"></i> Ø§Ø³ØªÙˆØ¯ÙŠÙˆ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</div>
                <div class="menu-item"><i class="fas fa-users-cog"></i> ÙØ±ÙŠÙ‚ Ø§Ù„Ù…Ø±Ø§Ø³Ù„ÙŠÙ†</div>
            </div>

            <div class="nav-section">
                <h5>Ø§Ù„Ù†Ø¸Ø§Ù…</h5>
                <div class="menu-item" onclick="System.logout()"><i class="fas fa-power-off"></i> Ø®Ø±ÙˆØ¬ Ø¢Ù…Ù†</div>
            </div>
        </aside>

        <main class="workspace">
            <div class="feature-hero" id="main-banner">
                <img src="" class="hero-img" id="hero-img-src">
                <div class="hero-data">
                    <span class="badge" style="background: var(--accent); color: #000;">Ø§Ù„Ù…Ø§Ù†Ø´ÙŠØª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</span>
                    <h2 id="hero-h">...</h2>
                    <p id="hero-p" style="max-width: 800px; color: #ccc;"></p>
                </div>
            </div>

            <h2 style="font-family: 'Amiri'; font-size: 40px; margin-bottom: 40px; border-right: 10px solid var(--primary); padding-right: 25px;">Ø¢Ø®Ø± Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø§Ø³ØªØ®Ø¨Ø§Ø±Ø§ØªÙŠØ©</h2>
            
            <div class="grid-system" id="news-container">
                </div>
        </main>
    </div>

    <div class="admin-portal" id="master-admin">
        <div class="portal-container">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px;">
                <h1 style="font-family: 'Amiri'; font-size: 40px; color: var(--primary);">Ù…Ø±ÙƒÙ€Ø² Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© ÙˆØ§Ù„ØªØ­Ù€ÙƒÙ…</h1>
                <button class="action-btn btn-prime" style="width: auto;" onclick="Control.toggle()">Ø¥ØºÙ„Ø§Ù‚ ÙˆØ­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ğŸ’¾</button>
            </div>

            <div class="portal-grid">
                <div class="portal-card">
                    <h3><i class="fas fa-desktop"></i> ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø§Ù†Ø´ÙŠØª</h3>
                    <label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø®Ø¨Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</label>
                    <input type="text" id="in-hero-h" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ø±ÙŠØ¶">
                    <label>ÙˆØµÙ Ø§Ù„Ø®Ø¨Ø±</label>
                    <textarea id="in-hero-p" rows="4" placeholder="ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø®Ø¨Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ..."></textarea>
                    <label>Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„ÙƒØ¨Ø±Ù‰</label>
                    <input type="text" id="in-hero-img" placeholder="https://...">
                    <button class="action-btn btn-prime" onclick="Control.updateHero()">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø§Ù†Ø´ÙŠØª</button>
                </div>

                <div class="portal-card">
                    <h3><i class="fas fa-plus-circle"></i> Ù†Ø´Ø± ØªÙ‚Ø±ÙŠØ± Ø¬Ø¯ÙŠØ¯</h3>
                    <input type="text" id="in-news-h" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙ‚Ø±ÙŠØ±">
                    <input type="text" id="in-news-img" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±">
                    <textarea id="in-news-p" rows="4" placeholder="Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªÙ‚Ø±ÙŠØ±..."></textarea>
                    <select id="in-news-tag">
                        <option value="Ø³ÙŠØ§Ø³Ø©">ØªØ­Ù„ÙŠÙ„ Ø³ÙŠØ§Ø³ÙŠ</option>
                        <option value="Ù…ÙŠØ¯Ø§Ù†ÙŠ">ØªØºØ·ÙŠØ© Ù…ÙŠØ¯Ø§Ù†ÙŠØ©</option>
                        <option value="Ø¹Ø§Ø¬Ù„">Ø®Ø¨Ø± Ø¹Ø§Ø¬Ù„</option>
                    </select>
                    <button class="action-btn btn-prime" onclick="Control.addNews()">Ù†Ø´Ø± Ø§Ù„Ø¢Ù† Ø¨Ø§Ù„Ø´Ø¨ÙƒØ©</button>
                </div>

                <div class="portal-card">
                    <h3><i class="fas fa-tools"></i> Ù‡ÙˆÙŠØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹</h3>
                    <label>Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù„Ù„Ø´Ø¨ÙƒØ©</label>
                    <input type="color" id="in-color" onchange="Control.changeTheme(this.value)">
                    <label>Ù†Øµ Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø¹Ø§Ø¬Ù„Ø©</label>
                    <textarea id="in-ticker" rows="3" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø¹Ø§Ø¬Ù„Ø© Ù‡Ù†Ø§..."></textarea>
                    <label>ØªØºÙŠÙŠØ± Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</label>
                    <input type="text" id="in-user" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯">
                    <button class="action-btn btn-prime" onclick="Control.saveSettings()">Ø­ÙØ¸ Ø§Ù„Ù‡ÙˆÙŠØ©</button>
                </div>
            </div>

            <div class="portal-grid" style="margin-top: 30px;">
                <div class="portal-card" style="text-align: center; border-color: var(--success);">
                    <h4>Ù‚ÙˆØ© Ø§Ù„Ø¨Ø«</h4>
                    <h2 style="color: var(--success);">99.9%</h2>
                </div>
                <div class="portal-card" style="text-align: center; border-color: var(--accent);">
                    <h4>Ø§Ù„Ø²ÙˆØ§Ø± Ø§Ù„Ø¢Ù†</h4>
                    <h2 style="color: var(--accent);">4,829</h2>
                </div>
                <div class="portal-card" style="text-align: center; border-color: var(--primary);">
                    <h4>Ø§Ù„Ù‡Ø¬Ù…Ø§Øª Ø§Ù„Ù…Ø­Ø¬ÙˆØ¨Ø©</h4>
                    <h2 style="color: var(--primary);">142</h2>
                </div>
            </div>
        </div>
    </div>

    <div class="float-win" id="win-ops">
        <div class="win-bar"><span>ØºØ±ÙØ© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©</span> <i class="fas fa-times" onclick="System.closeWin('ops')" style="cursor:pointer;"></i></div>
        <div style="padding: 20px;">
            <div id="chat-logs" style="height: 300px; background: #000; overflow-y: auto; padding: 15px; border-radius: 10px; margin-bottom: 15px; border: 1px solid #222;"></div>
            <div style="display: flex; gap: 10px;">
                <input id="chat-msg" placeholder="Ø£Ø±Ø³Ù„ Ø£ÙˆØ§Ù…Ø± Ù„Ù„Ù…Ø±Ø§Ø³Ù„ÙŠÙ†..." style="margin:0;">
                <button class="action-btn btn-prime" style="width: auto;" onclick="System.sendMsg()">Ø¥Ø±Ø³Ø§Ù„</button>
            </div>
        </div>
    </div>

    <div class="notify-container" id="notify-area"></div>

    <script>
        /* --- Ù…Ø­Ø±Ùƒ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ§Ø¦Ù‚ (The Data Core) --- */
        const DB = {
            key: 'MAHIR_PRO_DATA_V3',
            data: null,
            init() {
                const stored = localStorage.getItem(this.key);
                this.data = stored ? JSON.parse(stored) : {
                    auth: { u: 'mahir', p: '1234' },
                    config: { color: '#c0392b', ticker: 'Ø¹Ø§Ø¬Ù„: Ø¥Ø·Ù„Ø§Ù‚ Ù…Ù†ØµØ© Ù…Ø§Ù‡Ø± Ù„Ù„ØµØ­Ø§ÙØ© Ø§Ù„Ø­Ø±Ø© Ø¨Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø§Ù„ÙƒØ§Ù…Ù„Ø©...' },
                    hero: {
                        h: 'Ø«ÙˆØ±Ø© ÙÙŠ Ø¹Ø§Ù„Ù… Ø§Ù„Ø¥Ø¹Ù„Ø§Ù…: Ù…Ø§Ù‡Ø± ÙŠØ·Ù„Ù‚ Ø£ÙˆÙ„ Ù…Ù†ØµØ© Ø³ÙŠØ§Ø¯ÙŠØ© Ù…Ø³ØªÙ‚Ù„Ø©',
                        p: 'Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù†ØµØ© ØµÙ…Ù…Øª Ø®ØµÙŠØµØ§Ù‹ Ù„ØªÙƒÙˆÙ† Ù…Ù†Ø¨Ø±Ø§Ù‹ Ù„Ù„Ø£Ø­Ø±Ø§Ø±ØŒ Ù…Ø¹ ØªØ­ÙƒÙ… ÙƒØ§Ù…Ù„ ÙˆÙ…Ø·Ù„Ù‚ ÙÙŠ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¯ÙˆÙ† Ø±Ù‚Ø§Ø¨Ø© Ø®Ø§Ø±Ø¬ÙŠØ©.',
                        img: 'https://images.unsplash.com/photo-1495020689067-958852a7765e?q=80&w=2070'
                    },
                    news: [
                        { id: 1, tag: 'ØªØ­Ù„ÙŠÙ„', h: 'Ù…Ø³ØªÙ‚Ø¨Ù„ Ø§Ù„Ø­Ø±ÙŠØ§Øª ÙÙŠ Ø§Ù„Ø¹ØµØ± Ø§Ù„Ø±Ù‚Ù…ÙŠ', p: 'Ø¯Ø±Ø§Ø³Ø© Ø§Ø³ØªÙ‚ØµØ§Ø¦ÙŠØ© Ø­ÙˆÙ„ ÙƒÙŠÙÙŠØ© Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù…ÙŠ Ù…Ù† Ø§Ù„Ø­Ø¬Ø¨.', img: 'https://images.unsplash.com/photo-1504711432869-5d5932e221d1' },
                        { id: 2, tag: 'Ù…ÙŠØ¯Ø§Ù†ÙŠ', h: 'ØªØºØ·ÙŠØ© Ø­ØµØ±ÙŠØ© Ù…Ù† Ù‚Ù„Ø¨ Ø§Ù„Ø­Ø¯Ø«', p: 'Ù…Ø±Ø§Ø³Ù„Ùˆ Ù…Ø§Ù‡Ø± Ù†ØªÙˆØ±Ùƒ ÙŠÙ†Ù‚Ù„ÙˆÙ† Ù„ÙƒÙ… Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ø¯ÙˆÙ† ØªØ²ÙŠÙŠÙ.', img: 'https://images.unsplash.com/photo-1526304640581-d334cdbbf45e' }
                    ]
                };
                this.sync();
            },
            sync() {
                localStorage.setItem(this.key, JSON.stringify(this.data));
                this.apply();
            },
            apply() {
                document.documentElement.style.setProperty('--primary', this.data.config.color);
                document.getElementById('live-ticker-text').innerText = this.data.config.ticker;
                document.getElementById('hero-img-src').src = this.data.hero.img;
                document.getElementById('hero-h').innerText = this.data.hero.h;
                document.getElementById('hero-p').innerText = this.data.hero.p;
                
                const container = document.getElementById('news-container');
                container.innerHTML = '';
                this.data.news.forEach(n => {
                    container.innerHTML += `
                        <div class="news-box animate__animated animate__fadeInUp">
                            <img src="${n.img}" class="news-thumb">
                            <div class="news-info">
                                <span class="badge">${n.tag}</span>
                                <h3 style="margin: 15px 0;">${n.h}</h3>
                                <p style="color: #888; font-size: 14px; margin-bottom: 20px;">${n.p}</p>
                                <div style="display:flex; gap:10px;">
                                    <button class="action-btn btn-prime" style="font-size:12px;" onclick="alert('${n.p}')">Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ø²ÙŠØ¯</button>
                                    <button class="action-btn" style="background:#222; width:auto;" onclick="Control.deleteNews(${n.id})"><i class="fas fa-trash"></i></button>
                                </div>
                            </div>
                        </div>
                    `;
                });
            }
        };

        /* --- Ù…Ø­Ø±Ùƒ Ø§Ù„Ù†Ø¸Ø§Ù… (System Logic) --- */
        const System = {
            authenticate() {
                const u = document.getElementById('auth-u').value;
                const p = document.getElementById('auth-p').value;
                if(u === DB.data.auth.u && p === DB.data.auth.p) {
                    document.getElementById('security-layer').style.display = 'none';
                    this.notify('ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø³ÙŠØ§Ø¯ÙŠØ© - Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø£ÙŠÙ‡Ø§ Ø§Ù„Ù‚Ø§Ø¦Ø¯', 'success');
                } else {
                    alert('Ø®Ø·Ø£ ÙÙŠ Ø´ÙØ±Ø© Ø§Ù„Ø¹Ø¨ÙˆØ±!');
                }
            },
            notify(msg) {
                const area = document.getElementById('notify-area');
                const n = document.createElement('div');
                n.className = 'alert';
                n.innerHTML = `<i class="fas fa-check-circle"></i> ${msg}`;
                area.appendChild(n);
                setTimeout(() => n.remove(), 4000);
            },
            logout() { location.reload(); },
            openWin(id) { document.getElementById('win-' + id).style.display = 'flex'; },
            closeWin(id) { document.getElementById('win-' + id).style.display = 'none'; },
            sendMsg() {
                const m = document.getElementById('chat-msg');
                if(!m.value) return;
                const log = document.getElementById('chat-logs');
                log.innerHTML += `<div style="margin-bottom:10px; color:var(--accent)"><b>[Ø§Ù„Ù‚Ø§Ø¦Ø¯ Ù…Ø§Ù‡Ø±]:</b> ${m.value}</div>`;
                m.value = '';
                log.scrollTop = log.scrollHeight;
            }
        };

        /* --- Ù…Ø­Ø±Ùƒ Ø§Ù„ØªØ­ÙƒÙ… (Control Center Logic) --- */
        const Control = {
            toggle() {
                const p = document.getElementById('master-admin');
                p.style.display = p.style.display === 'block' ? 'none' : 'block';
                // ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
                document.getElementById('in-hero-h').value = DB.data.hero.h;
                document.getElementById('in-hero-p').value = DB.data.hero.p;
                document.getElementById('in-hero-img').value = DB.data.hero.img;
                document.getElementById('in-ticker').value = DB.data.config.ticker;
            },
            updateHero() {
                DB.data.hero.h = document.getElementById('in-hero-h').value;
                DB.data.hero.p = document.getElementById('in-hero-p').value;
                DB.data.hero.img = document.getElementById('in-hero-img').value;
                DB.sync();
                System.notify('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø§Ù†Ø´ÙŠØª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ø¨Ù†Ø¬Ø§Ø­');
            },
            addNews() {
                const n = {
                    id: Date.now(),
                    h: document.getElementById('in-news-h').value,
                    img: document.getElementById('in-news-img').value || 'https://via.placeholder.com/400',
                    p: document.getElementById('in-news-p').value,
                    tag: document.getElementById('in-news-tag').value
                };
                DB.data.news.unshift(n);
                DB.sync();
                System.notify('ØªÙ… Ù†Ø´Ø± Ø§Ù„ØªÙ‚Ø±ÙŠØ± ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©');
            },
            deleteNews(id) {
                DB.data.news = DB.data.news.filter(x => x.id !== id);
                DB.sync();
                System.notify('ØªÙ… Ø­Ø°Ù Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ù…Ù† Ø§Ù„Ø£Ø±Ø´ÙŠÙ');
            },
            changeTheme(c) {
                DB.data.config.color = c;
                DB.sync();
            },
            saveSettings() {
                DB.data.config.ticker = document.getElementById('in-ticker').value;
                if(document.getElementById('in-user').value) DB.data.auth.u = document.getElementById('in-user').value;
                DB.sync();
                System.notify('ØªÙ… Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ù†Ø¬Ø§Ø­');
            }
        };

        // Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„ÙŠ
        DB.init();

        // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø³Ø­Ø¨
        document.querySelectorAll('.win-bar').forEach(bar => {
            let win = bar.parentElement;
            bar.onmousedown = (e) => {
                let ox = e.clientX - win.offsetLeft;
                let oy = e.clientY - win.offsetTop;
                document.onmousemove = (e) => {
                    win.style.left = e.clientX - ox + 'px';
                    win.style.top = e.clientY - oy + 'px';
                };
                document.onmouseup = () => document.onmousemove = null;
            };
        });
    </script>
</body>
</html>
